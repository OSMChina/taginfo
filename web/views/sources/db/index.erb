<div class="fbox">
    <h2><%= h(t.pages.sources.statistics) %>: <%= h(t.osm.objects) %></h2>
    <div>
        <table>
            <tr><td><%= h(t.pages.sources.db.stats.objects_in_db) %>:</td><td class="number"><%= @db.stats('objects').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.tags_in_db) %>:</td><td class="number"><%= @db.stats('object_tags').to_s_with_ts %></td></tr>
        </table>
    </div>
</div>
<div class="fbox">
    <h2><%= h(t.pages.sources.statistics) %>: <%= h(t.osm.tags) %></h2>
    <div>
        <table>
            <tr><td><%= h(t.pages.sources.db.stats.distinct_keys) %>:</td><td class="number"><%= @db.stats('num_keys').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.distinct_tags) %>:</td><td class="number"><%= @db.stats('num_tags').to_s_with_ts %></td></tr>
        </table>
    </div>
</div>
<div class="fbox">
    <h2><%= h(t.pages.sources.statistics) %>: <%= h(t.osm.nodes) %></h2>
    <div>
        <table>
            <tr><td><%= h(t.pages.sources.db.stats.nodes_in_db) %>:</td><td class="number"><%= @db.stats('nodes').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.nodes_with_tags_in_db) %>:</td><td class="number"><%= @db.stats('nodes_with_tags').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.nodes_with_tags_in_db_percent) %>:</td><td class="number"><%= (10000.0 * @db.stats('nodes_with_tags') / @db.stats('nodes')).to_i.to_f / 100 %>%</td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.tags_on_nodes) %>:</td><td class="number"><%= @db.stats('node_tags').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.avg_tags_per_tagged_node) %>:</td><td class="number"><%= ( 100.0 * @db.stats('node_tags') / @db.stats('nodes_with_tags')).to_i.to_f / 100 %></td></tr>
        </table>
    </div>
</div>
<div class="fbox">
    <h2><%= h(t.pages.sources.statistics) %>: <%= h(t.osm.ways) %></h2>
    <div>
        <table>
            <tr><td><%= h(t.pages.sources.db.stats.ways_in_db) %>:</td><td class="number"><%= @db.stats('ways').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.closed_ways_in_db) %>:</td><td class="number"><%= @db.stats('closed_ways').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.tags_on_ways) %>:</td><td class="number"><%= @db.stats('way_tags').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.avg_tags_per_way) %>:</td><td class="number"><%= ( 100.0 * @db.stats('way_tags') / @db.stats('ways')).to_i.to_f / 100 %></td></tr>
        </table>
    </div>
</div>
<div class="fbox">
    <h2><%= h(t.pages.sources.statistics) %>: <%= h(t.osm.relations) %></h2>
    <div>
        <table>
            <tr><td><%= h(t.pages.sources.db.stats.relations_in_db) %>:</td><td class="number"><%= @db.stats('relations').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.tags_on_relations) %>:</td><td class="number"><%= @db.stats('relation_tags').to_s_with_ts %></td></tr>
            <tr><td><%= h(t.pages.sources.db.stats.avg_tags_per_relation) %>:</td><td class="number"><%= ( 100.0 * @db.stats('relation_tags') / @db.stats('relations')).to_i.to_f / 100 %></td></tr>
        </table>
    </div>
</div>
